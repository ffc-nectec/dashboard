{"version":3,"sources":["components/widgets/Charts/1/index.js","components/widgets/Charts/2/index.js","pages/dashboard/analytics/index.js"],"names":["Chart1","_this$props","this","props","submit","pyramid01","namehospital","myArrStr","byAge","console","log","undefined","age","map","item","female","male","Math","abs","date","moment","tz","othor","undefinedAge","undefinedSex","Highcharts","setOptions","lang","thousandsSep","optionspyramid","chart","type","credits","enabled","colors","title","text","concat","subtitle","xAxis","categories","reversed","labels","step","opposite","linkedTo","yAxis","formatter","value","plotOptions","series","stacking","tooltip","name","point","category","numberFormat","y","data","react_default","a","createElement","highcharts_react_min_default","highcharts","options","onChange","style","width","height","className","borderColor","toLocaleString","total","format","Helmet","React","Component","Chart2","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","user","_this2","fetch","then","res","json","setState","active","byActive","data1","object","peple","pieChartelderly","plotBackgroundColor","plotBorderWidth","plotShadow","pointFormat","pie","allowPointSelect","cursor","dataLabels","colorByPoint","OK","MID","VERYHI","UNKNOWN","DashboardAnalytics","dataSource","chronic","hospital","isLoaded","error","handleValidSubmit","bind","assertThisInitialized","_this3","organization","find","idOption","id","_this$state","message","auto_complete","Color","defaultValue","placeholder","filterOption","inputValue","option","children","toUpperCase","indexOf","input","suffix","icon","es_button","onClick","window","location","reload","_1","_2"],"mappings":"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","file":"static/js/4.b8a52e27.chunk.js","sourcesContent":["import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport moment from 'moment-timezone'\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\n\n\nclass Chart1 extends React.Component {\n\n  render() {\n    const { submit, pyramid01, namehospital } = this.props\n    const myArrStr = pyramid01.byAge;\n    console.log(myArrStr, 'lkjhgf');\n\n\n    if (myArrStr !== undefined) {\n      const age = myArrStr.map(item => { return item.age })\n      const female = myArrStr.map(item => { return item.female })\n      const male = myArrStr.map(item => -Math.abs((item.male)))\n      const date = moment(pyramid01.date).tz('Asia/Bangkok')\n      const othor = pyramid01.undefinedAge + pyramid01.undefinedSex\n\n      Highcharts.setOptions({\n        lang: {\n          thousandsSep: ','\n        }\n      });\n\n      // ปิรามิดประชากร ทั้งหมด\n      const optionspyramid = {\n        chart: {\n          type: 'bar',\n          // plotBackgroundImage: 'resources/images/bg_pop.png'\n        },\n        credits: {\n          enabled: false\n        },\n        colors: ['#008FFB', '#FF4560'],\n        title: {\n          text: namehospital !== '' ? `ปิรามิดประชากร</b></b></br><br/>${namehospital}` : 'ปิรามิดหน่วยงานทั้งหมด',\n\n        },\n        subtitle: {\n          text: null\n        },\n        xAxis: [{\n          categories: age,\n          reversed: false,\n          labels: {\n            step: 1\n          }\n        }, { // อายุอีกฝั่ง\n          opposite: true,\n          reversed: false,\n          categories: age,\n\n          linkedTo: 0,\n          labels: {\n            step: 1\n          }\n        }],\n        yAxis: {\n          title: {\n            text: null\n          },\n          labels: {\n            formatter() {\n              return Math.abs(this.value)\n            }\n          }\n        },\n        plotOptions: {\n          series: {\n            stacking: 'normal',\n          }\n        },\n        lang: {\n          thousandsSep: ','\n        },\n        tooltip: {\n          formatter() {\n            return `<b>${this.series.name}, ช่วงอายุ ${this.point.category}</b><br/>` +\n              `จำนวน:${Highcharts.numberFormat(Math.abs(this.point.y), 0)}`;\n          }\n        },\n        series: [\n          {\n            name: \"ชาย\",\n            data: male,\n          },\n          {\n            name: \"หญิง\",\n            data: female\n          }\n        ]\n      }\n\n      return (\n        <div>\n          <HighchartsReact highcharts={Highcharts} options={optionspyramid} onChange={submit} style={{ width: \"100%\", height: \"400px\" }} />\n          <div className=\"d-flex flex-wrap\">\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#008ffb' }} />\n                ชาย\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.male.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut--danger\" />\n                หญิง\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.female.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#333333' }} />\n                ไม่ระบุ\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{othor.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut--success\" />\n                ประชากรทั้งหมด\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.total.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#ffff99' }} />\n                รายงานเมื่อ\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{date.format('DD MMMM YYYY HH:mm:ss')}</div>\n            </div>\n          </div>\n          {/* <div className=\"d-flex flex-wrap\">\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#008ffb' }} />\n                ชาย\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.male.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut--danger\" />\n                หญิง\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.female.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut--success\" />\n                ประชากรทั้งหมด\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{pyramid01.total.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut--success\" />\n                ไม่ระบุ\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{othor.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-5 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#ffff99' }} />\n                รายงานเมื่อ\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{date.format('DD MMMM YYYY HH:mm:ss')}</div>\n            </div>\n          </div> */}\n        </div>\n      )\n    }\n    return (\n      <div>\n        <Helmet title=\"Dashboard: Analytics\" />\n      </div>\n    )\n  }\n}\n\nexport default Chart1\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\n\nclass Chart2 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: []\n    }\n  }\n\n  componentDidMount() {\n    // กราฟ ปิรามิด\n    fetch(`http://localhost:7000/report/elderlyrat`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          user: json\n        });\n      }\n      )\n  }\n\n  render() {\n    const { user } = this.state\n    const {submit, namehospital } = this.props;\n    const active = user.byActive;\n    if (active !== undefined) {\n      const data1 = active.map(object => ({\n        name: object.name,\n        y: object.peple,\n      }));\n\n      Highcharts.setOptions({\n        lang: {\n          thousandsSep: ','\n        }\n      });\n\n      const pieChartelderly = {\n        chart: {\n          plotBackgroundColor: null,\n          plotBorderWidth: null,\n          plotShadow: false,\n          type: 'pie'\n        },\n        credits: {\n          enabled: false\n        },\n        colors: ['rgb(144, 237, 125)', 'rgb(247, 163, 92)', '#FF4560', '#333333',],\n        title: {\n          text: namehospital !== '' ? `กลุ่มผู้สูงอายุ 60 ปีขึ้นไป</b></br><br/>(ที่ได้รับการประเมิน ADL แล้ว)</b></br><br/>${namehospital}` : `กลุ่มผู้สูงอายุ 60 ปีขึ้นไป</b></br><br/>(ที่ได้รับการประเมิน ADL แล้ว)</br></br><br/>หน่วยงานทั้งหมด`,\n        },\n        tooltip: {\n          pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n        },\n        plotOptions: {\n          pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            dataLabels: {\n              enabled: true,\n              format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n            }\n          }\n        },\n        series: [{\n          name: 'จำนวน',\n          colorByPoint: true,\n          data: data1\n        }]\n      }\n      return (\n        <div>\n          {/* {(pieChartelderly !== 0) && ()} */}\n          <HighchartsReact highcharts={Highcharts} options={pieChartelderly} onChange={submit} style={{ width: \"100%\", height: \"400px\" }} />\n          <div className=\"d-flex flex-wrap\">\n            <div className=\"mr-4 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: 'rgb(144, 237, 125)' }} />\n                ติดสังคม\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{user.OK.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-4 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: 'rgb(247, 163, 92)' }} />\n                ติดบ้าน\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{user.MID.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-4 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#FF4560' }} />\n                ติดเตียง\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{user.VERYHI.toLocaleString()}</div>\n            </div>\n            <div className=\"mr-4 mb-2\">\n              <div className=\"text-nowrap text-uppercase text-gray-4\">\n                <div className=\"air__utils__donut air__utils__donut\" style={{ borderColor: '#333333' }} />\n                ไม่ระบุ\n              </div>\n              <div className=\"font-weight-bold font-size-18 text-dark\">{user.UNKNOWN.toLocaleString()}</div>\n            </div>\n          </div>\n        </div>\n      )\n    }\n    return (\n      <div>\n        <Helmet title=\"Dashboard: Analytics\" />\n      </div>\n    )\n  }\n}\n\nexport default Chart2\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport Chart1 from 'components/widgets/Charts/1'\nimport { AutoComplete, Button, Icon, Input } from 'antd';\nimport Chart2 from 'components/widgets/Charts/2';\n// import Chart3 from 'components/widgets/Charts/3';\n\nclass DashboardAnalytics extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataSource: [],\n      pyramid01: [],\n      chronic: [],\n      user: [],\n      hospital: '',\n      isLoaded: false,\n      error: null,\n    }\n    this.handleValidSubmit = this.handleValidSubmit.bind(this);\n  }\n\n  componentDidMount() {\n\n    // ชื่อกับ id\n    fetch(`https://report-api.ffc.in.th/report/convert`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          dataSource: json\n        });\n      })\n\n    // กราฟ ปิรามิด\n    fetch(`https://report-api.ffc.in.th/report/pyramid`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          pyramid01: json,\n          isLoaded: true,\n        });\n      },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n    // pie อัตราส่วนผู้สูงอายุ\n    fetch(`https://report-api.ffc.in.th/report/elderlyrat`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          user: json,\n          isLoaded: true\n        });\n      })\n\n    // piechart โรคเรื้อรัง\n    fetch(`https://report-api.ffc.in.th/report/chronic`)\n      .then(res => res.json())\n      .then(json => {\n        this.setState({\n          chronic: json,\n          isLoaded: true\n        });\n      })\n  }\n\n  handleValidSubmit(value) {\n    const { dataSource } = this.state;\n    const organization = dataSource.find((item) => {\n      return item.name === value\n    })\n    if (organization !== undefined) {\n      const idOption = organization.id\n      console.log(idOption, 'ooooo');\n      fetch(`https://report-api.ffc.in.th/report/pyramid/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            pyramid01: json,\n            hospital: value\n          });\n          console.log(json, '====');\n        })\n\n      fetch(`https://report-api.ffc.in.th/report/elderlyrat/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            user: json,\n            hospital: value\n          });\n        })\n\n      fetch(`https://report-api.ffc.in.th/report/chronic/${idOption}`)\n        .then(res => res.json())\n        .then(json => {\n          this.setState({\n            chronic: json,\n            hospital: value\n          });\n        })\n    }\n  }\n\n  render() {\n    const { dataSource, chronic, pyramid01, user, hospital, isLoaded, error } = this.state;\n    console.log(chronic);\n    \n    const name = dataSource.map(object => object.name);\n    const submit = this.handleValidSubmit;\n\n    function Complete() {\n      return (\n        <AutoComplete\n          style={{ width: 350, Color: '#000' }}\n          onChange={submit}\n          dataSource={name}\n          defaultValue={hospital}\n          placeholder=\"ค้นหาหน่วยงาน\"\n          filterOption={(inputValue, option) =>\n            option.props.children.toUpperCase().indexOf(inputValue.toUpperCase()) !== -1\n          }\n        >\n          <Input suffix={<Icon type=\"search\" className=\"certain-category-icon\" />} />\n        </AutoComplete>\n      );\n    }\n\n    function refreshPage() {\n      window.location.reload();\n      \n    }\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } if (!isLoaded) {\n      return <div>Loading...</div>;\n    }\n    return (\n      <div>\n        {isLoaded}\n        <Helmet title=\"Dashboard: Analytics\" />\n        <div>\n          <Complete />&nbsp; &nbsp; &nbsp;\n          <Button type=\"button\" onClick={refreshPage}> <span>หน่วยงานทั้งหมด</span> </Button>\n        </div>\n        <br /><br /><br />\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <Chart1 submit={submit} pyramid01={pyramid01} namehospital={hospital} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xl-6\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                {/* <Chart3 chronic={chronic} submit={submit} namehospital={hospital}  /> */}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xl-6\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <Chart2 user={user} submit={submit} namehospital={hospital} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DashboardAnalytics\n"],"sourceRoot":""}