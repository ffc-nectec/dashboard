(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{446:function(e,t,a){"use strict";a.r(t);a(444);var n=a(442),r=(a(310),a(316)),o=(a(342),a(445)),l=(a(317),a(335)),c=(a(345),a(32)),i=a(17),s=a(18),d=a(21),u=a(19),m=a(83),p=a(20),h=(a(347),a(443)),f=a(0),b=a.n(f),v=a(99),E=a(318),g=a.n(E),y=a(349),_=a.n(y),N=h.a.Panel,x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={dataSource:[],user:[],chronic:[],hospital:"",isLoaded:!1,error:null},a.handleValidSubmit=a.handleValidSubmit.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://report-api.ffc.in.th/report/convert").then(function(e){return e.json()}).then(function(t){e.setState({dataSource:t})}),fetch("https://report-api.ffc.in.th/report/elderlyrat").then(function(e){return e.json()}).then(function(t){e.setState({user:t,isLoaded:!0})}),fetch("https://report-api.ffc.in.th/report/chronic").then(function(e){return e.json()}).then(function(t){e.setState({chronic:t,isLoaded:!0})})}},{key:"handleValidSubmit",value:function(e){var t=this,a=this.state.dataSource.find(function(t){return t.name===e});if(void 0!==a){var n=a.id;console.log(n,"ooooo"),fetch("https://report-api.ffc.in.th/report/pyramid/".concat(n)).then(function(e){return e.json()}).then(function(a){t.setState({hospital:e}),console.log(a,"====")}),fetch("https://report-api.ffc.in.th/report/elderlyrat/".concat(n)).then(function(e){return e.json()}).then(function(a){t.setState({user:a,hospital:e})}),fetch("https://report-api.ffc.in.th/report/chronic/".concat(n)).then(function(e){return e.json()}).then(function(a){t.setState({chronic:a,hospital:e})})}}},{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.chronic,i=e.hospital,s=e.user,d=e.isLoaded,u=e.error;console.log(a,"chronic");var m=t.map(function(e){return e.name}),p=this.handleValidSubmit;if(u)return b.a.createElement("div",null,"Error: ",u.message);if(!d)return b.a.createElement("div",null,"Loading...");var f=s.byActive,E=a.byIcd10;if(void 0!==E){E.map(function(e){return console.log(e.y,"popiij")});var y=E.map(function(e){return{name:e.name,y:e.y}});if(void 0!==f){var x=f.map(function(e){return{name:e.name,y:e.peple}});g.a.setOptions({lang:{thousandsSep:","}});var w={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},colors:["rgb(144, 237, 125)","rgb(247, 163, 92)","#FF4560","#333333"],title:{text:""!==i?"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38 60 \u0e1b\u0e35\u0e02\u0e36\u0e49\u0e19\u0e44\u0e1b</b></br><br/>".concat(i):"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38 60 \u0e1b\u0e35\u0e02\u0e36\u0e49\u0e19\u0e44\u0e1b</br></br>\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"\u0e08\u0e33\u0e19\u0e27\u0e19",colorByPoint:!0,data:x}]},S={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},colors:["rgb(144, 237, 125)","rgb(247, 163, 92)","#FF4560","#333333","#008FFB"],title:{text:""!==i?"\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e42\u0e23\u0e04\u0e40\u0e23\u0e37\u0e49\u0e2d\u0e23\u0e31\u0e07</b></br><br/>".concat(i):"\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e42\u0e23\u0e04\u0e40\u0e23\u0e37\u0e49\u0e2d\u0e23\u0e31\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1}}},series:[{name:"\u0e08\u0e33\u0e19\u0e27\u0e19",colorByPoint:!0,data:y}]};return b.a.createElement("div",null,b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-lg-12"},b.a.createElement(function(){return b.a.createElement(o.a,{style:{width:400,Color:"#000"},onChange:p,dataSource:m,defaultValue:i,placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},b.a.createElement(l.a,{suffix:b.a.createElement(c.a,{type:"search",className:"certain-category-icon"})}))},null),"\xa0 \xa0 \xa0",b.a.createElement(r.a,{type:"button",onClick:function e(){window.location.reload(),console.log(e,"option")}}," ",b.a.createElement("span",null,"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14")," "))),b.a.createElement("br",null),b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-xl-6 col-lg-6"},b.a.createElement("div",{className:"card"},b.a.createElement("div",{className:"card-body"},b.a.createElement(_.a,{highcharts:g.a,options:S,style:{width:"100%",height:"400px"}}),b.a.createElement(h.a,{onChange:function(e){console.log(e)}},b.a.createElement(N,{header:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e42\u0e23\u0e04\u0e40\u0e23\u0e37\u0e49\u0e2d\u0e23\u0e31\u0e07 (\u0e01\u0e14\u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14)",key:"1"},b.a.createElement(n.a,{dataSource:y,columns:[{title:"\u0e0a\u0e37\u0e48\u0e2d",dataIndex:"name",key:"1"},{title:"\u0e08\u0e33\u0e19\u0e27\u0e19",dataIndex:"y",key:"1"}],bordered:!0})))))),b.a.createElement("div",{className:"col-xl-5 col-lg-5"},b.a.createElement("div",{className:"card"},b.a.createElement("div",{className:"card-body"},b.a.createElement(_.a,{highcharts:g.a,options:w,style:{width:"100%",height:"400px"}}),b.a.createElement("div",{className:"d-flex flex-wrap"},b.a.createElement("div",{className:"mr-4 mb-2"},b.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},b.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"rgb(144, 237, 125)"}}),"\u0e15\u0e34\u0e14\u0e2a\u0e31\u0e07\u0e04\u0e21"),b.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},s.OK.toLocaleString())),b.a.createElement("div",{className:"mr-4 mb-2"},b.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},b.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"rgb(247, 163, 92)"}}),"\u0e15\u0e34\u0e14\u0e1a\u0e49\u0e32\u0e19"),b.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},s.MID.toLocaleString())),b.a.createElement("div",{className:"mr-4 mb-2"},b.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},b.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#FF4560"}}),"\u0e15\u0e34\u0e14\u0e40\u0e15\u0e35\u0e22\u0e07"),b.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},s.VERYHI.toLocaleString())),b.a.createElement("div",{className:"mr-4 mb-2"},b.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},b.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#333333"}}),"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"),b.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},s.UNKNOWN.toLocaleString()))))))))}}return b.a.createElement("div",null,d,b.a.createElement(v.Helmet,{title:"Dashboard:\xa0Analytics"}))}}]),t}(b.a.Component);t.default=x}}]);
//# sourceMappingURL=4.5945eab7.chunk.js.map