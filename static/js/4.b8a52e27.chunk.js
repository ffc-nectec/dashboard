(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{299:function(e,t,a){"use strict";a.r(t);a(284);var r=a(288),n=(a(290),a(298)),l=(a(285),a(287)),o=(a(293),a(27)),i=a(18),s=a(19),c=a(21),d=a(20),m=a(74),u=a(22),p=a(0),h=a.n(p),f=a(80),b=a(295),v=a.n(b),E=a(283),_=a.n(E),g=a(286),x=a.n(g),y=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.submit,a=e.pyramid01,r=e.namehospital,n=a.byAge;if(console.log(n,"lkjhgf"),void 0!==n){var l=n.map(function(e){return e.age}),o=n.map(function(e){return e.female}),i=n.map(function(e){return-Math.abs(e.male)}),s=v()(a.date).tz("Asia/Bangkok"),c=a.undefinedAge+a.undefinedSex;_.a.setOptions({lang:{thousandsSep:","}});var d={chart:{type:"bar"},credits:{enabled:!1},colors:["#008FFB","#FF4560"],title:{text:""!==r?"\u0e1b\u0e34\u0e23\u0e32\u0e21\u0e34\u0e14\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e01\u0e23</b></b></br><br/>".concat(r):"\u0e1b\u0e34\u0e23\u0e32\u0e21\u0e34\u0e14\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"},subtitle:{text:null},xAxis:[{categories:l,reversed:!1,labels:{step:1}},{opposite:!0,reversed:!1,categories:l,linkedTo:0,labels:{step:1}}],yAxis:{title:{text:null},labels:{formatter:function(){return Math.abs(this.value)}}},plotOptions:{series:{stacking:"normal"}},lang:{thousandsSep:","},tooltip:{formatter:function(){return"<b>".concat(this.series.name,", \u0e0a\u0e48\u0e27\u0e07\u0e2d\u0e32\u0e22\u0e38 ").concat(this.point.category,"</b><br/>")+"\u0e08\u0e33\u0e19\u0e27\u0e19:".concat(_.a.numberFormat(Math.abs(this.point.y),0))}},series:[{name:"\u0e0a\u0e32\u0e22",data:i},{name:"\u0e2b\u0e0d\u0e34\u0e07",data:o}]};return h.a.createElement("div",null,h.a.createElement(x.a,{highcharts:_.a,options:d,onChange:t,style:{width:"100%",height:"400px"}}),h.a.createElement("div",{className:"d-flex flex-wrap"},h.a.createElement("div",{className:"mr-5 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#008ffb"}}),"\u0e0a\u0e32\u0e22"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},a.male.toLocaleString())),h.a.createElement("div",{className:"mr-5 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut--danger"}),"\u0e2b\u0e0d\u0e34\u0e07"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},a.female.toLocaleString())),h.a.createElement("div",{className:"mr-5 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#333333"}}),"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},c.toLocaleString())),h.a.createElement("div",{className:"mr-5 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut--success"}),"\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e01\u0e23\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},a.total.toLocaleString())),h.a.createElement("div",{className:"mr-5 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#ffff99"}}),"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},s.format("DD MMMM YYYY HH:mm:ss")))))}return h.a.createElement("div",null,h.a.createElement(f.Helmet,{title:"Dashboard:\xa0Analytics"}))}}]),t}(h.a.Component),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={user:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:7000/report/elderlyrat").then(function(e){return e.json()}).then(function(t){e.setState({user:t})})}},{key:"render",value:function(){var e=this.state.user,t=this.props,a=t.submit,r=t.namehospital,n=e.byActive;if(void 0!==n){var l=n.map(function(e){return{name:e.name,y:e.peple}});_.a.setOptions({lang:{thousandsSep:","}});var o={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},colors:["rgb(144, 237, 125)","rgb(247, 163, 92)","#FF4560","#333333"],title:{text:""!==r?"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38 60 \u0e1b\u0e35\u0e02\u0e36\u0e49\u0e19\u0e44\u0e1b</b></br><br/>(\u0e17\u0e35\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e30\u0e40\u0e21\u0e34\u0e19 ADL \u0e41\u0e25\u0e49\u0e27)</b></br><br/>".concat(r):"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38 60 \u0e1b\u0e35\u0e02\u0e36\u0e49\u0e19\u0e44\u0e1b</b></br><br/>(\u0e17\u0e35\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e1b\u0e23\u0e30\u0e40\u0e21\u0e34\u0e19 ADL \u0e41\u0e25\u0e49\u0e27)</br></br><br/>\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{name:"\u0e08\u0e33\u0e19\u0e27\u0e19",colorByPoint:!0,data:l}]};return h.a.createElement("div",null,h.a.createElement(x.a,{highcharts:_.a,options:o,onChange:a,style:{width:"100%",height:"400px"}}),h.a.createElement("div",{className:"d-flex flex-wrap"},h.a.createElement("div",{className:"mr-4 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"rgb(144, 237, 125)"}}),"\u0e15\u0e34\u0e14\u0e2a\u0e31\u0e07\u0e04\u0e21"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},e.OK.toLocaleString())),h.a.createElement("div",{className:"mr-4 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"rgb(247, 163, 92)"}}),"\u0e15\u0e34\u0e14\u0e1a\u0e49\u0e32\u0e19"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},e.MID.toLocaleString())),h.a.createElement("div",{className:"mr-4 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#FF4560"}}),"\u0e15\u0e34\u0e14\u0e40\u0e15\u0e35\u0e22\u0e07"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},e.VERYHI.toLocaleString())),h.a.createElement("div",{className:"mr-4 mb-2"},h.a.createElement("div",{className:"text-nowrap text-uppercase text-gray-4"},h.a.createElement("div",{className:"air__utils__donut air__utils__donut",style:{borderColor:"#333333"}}),"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"),h.a.createElement("div",{className:"font-weight-bold font-size-18 text-dark"},e.UNKNOWN.toLocaleString()))))}return h.a.createElement("div",null,h.a.createElement(f.Helmet,{title:"Dashboard:\xa0Analytics"}))}}]),t}(h.a.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={dataSource:[],pyramid01:[],chronic:[],user:[],hospital:"",isLoaded:!1,error:null},a.handleValidSubmit=a.handleValidSubmit.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://report-api.ffc.in.th/report/convert").then(function(e){return e.json()}).then(function(t){e.setState({dataSource:t})}),fetch("https://report-api.ffc.in.th/report/pyramid").then(function(e){return e.json()}).then(function(t){e.setState({pyramid01:t,isLoaded:!0})},function(t){e.setState({isLoaded:!0,error:t})}),fetch("https://report-api.ffc.in.th/report/elderlyrat").then(function(e){return e.json()}).then(function(t){e.setState({user:t,isLoaded:!0})}),fetch("https://report-api.ffc.in.th/report/chronic").then(function(e){return e.json()}).then(function(t){e.setState({chronic:t,isLoaded:!0})})}},{key:"handleValidSubmit",value:function(e){var t=this,a=this.state.dataSource.find(function(t){return t.name===e});if(void 0!==a){var r=a.id;console.log(r,"ooooo"),fetch("https://report-api.ffc.in.th/report/pyramid/".concat(r)).then(function(e){return e.json()}).then(function(a){t.setState({pyramid01:a,hospital:e}),console.log(a,"====")}),fetch("https://report-api.ffc.in.th/report/elderlyrat/".concat(r)).then(function(e){return e.json()}).then(function(a){t.setState({user:a,hospital:e})}),fetch("https://report-api.ffc.in.th/report/chronic/".concat(r)).then(function(e){return e.json()}).then(function(a){t.setState({chronic:a,hospital:e})})}}},{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.chronic,i=e.pyramid01,s=e.user,c=e.hospital,d=e.isLoaded,m=e.error;console.log(a);var u=t.map(function(e){return e.name}),p=this.handleValidSubmit;return m?h.a.createElement("div",null,"Error: ",m.message):d?h.a.createElement("div",null,d,h.a.createElement(f.Helmet,{title:"Dashboard:\xa0Analytics"}),h.a.createElement("div",null,h.a.createElement(function(){return h.a.createElement(n.a,{style:{width:350,Color:"#000"},onChange:p,dataSource:u,defaultValue:c,placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},h.a.createElement(l.a,{suffix:h.a.createElement(o.a,{type:"search",className:"certain-category-icon"})}))},null),"\xa0 \xa0 \xa0",h.a.createElement(r.a,{type:"button",onClick:function(){window.location.reload()}}," ",h.a.createElement("span",null,"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14")," ")),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-12"},h.a.createElement("div",{className:"card"},h.a.createElement("div",{className:"card-body"},h.a.createElement(y,{submit:p,pyramid01:i,namehospital:c}))))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xl-6"},h.a.createElement("div",{className:"card"},h.a.createElement("div",{className:"card-body"}))),h.a.createElement("div",{className:"col-xl-6"},h.a.createElement("div",{className:"card"},h.a.createElement("div",{className:"card-body"},h.a.createElement(N,{user:s,submit:p,namehospital:c})))))):h.a.createElement("div",null,"Loading...")}}]),t}(h.a.Component);t.default=w}}]);
//# sourceMappingURL=4.b8a52e27.chunk.js.map